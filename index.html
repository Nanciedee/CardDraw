<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tirage de Cartes Arc & Vib</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f0f0f0;
      padding: 20px;
    }
    h1 { margin-bottom: 20px; }
    #drawButton {
      padding: 10px 20px;
      font-size: 18px;
      margin-bottom: 20px;
      cursor: pointer;
    }
    #cardImage {
      max-width: 300px;
      margin: 10px auto;
      cursor: pointer;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    #history {
      margin-top: 20px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
    }
    /* Modal */
    #modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.7);
    }
    #modalContent {
      background-color: #fff;
      margin: 10% auto;
      padding: 20px;
      width: 90%;
      max-width: 700px;
      border-radius: 10px;
      text-align: left;
      overflow-y: auto;
      max-height: 80%;
    }
    #closeModal {
      float: right;
      font-size: 24px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Tirage de Cartes Arc & Vib</h1>
<button id="drawButton">ðŸŽ´ Tirer une carte</button>
<div>
  <img id="cardImage" src="" alt="Carte tirÃ©e">
</div>
<div id="history">
  <h3>Historique :</h3>
  <ul id="historyList"></ul>
</div>

<!-- Modal -->
<div id="modal">
  <div id="modalContent">
    <span id="closeModal">&times;</span>
    <div id="cardDescription"></div>
  </div>
</div>

<script>
  // DÃ©finition des cartes Arc et Vib avec image et description
  const cards = [
    // Cartes Arc
    {id:'arc1', type:'Arc', image:'images/arc1.png', description:`ðŸ›¡ï¸ MichaÃ«l â€“ Guerrier cÃ©leste tribal
Nom : MikhaÃ«l â€” â€œQui est comme Dieu ?â€
FrÃ©quence : 528Hz, Pierres : Lapis-lazuli, Sodalite, Tourmaline noire, Astres : Soleil, Mars...`},
    {id:'arc2', type:'Arc', image:'images/arc2.png', description:`ðŸŒ¿ RaphaÃ«l â€“ Chamane guÃ©risseur vÃ©gÃ©tal
Nom : Refael â€” â€œDieu guÃ©ritâ€
FrÃ©quence : 639Hz, Pierres : Malachite, Ã‰meraude, Fluorite verte...`},
    // ... ajouter arc3 Ã  arc12 de la mÃªme faÃ§on
    // Cartes Vib
    {id:'vib1', type:'Vib', image:'images/vib1.png', description:`ðŸ›¡ï¸ Carte de Protection
Fonction : Dissout les intrusions, stabilise l'aura
FrÃ©quence : 417Hz, Pierres : Obsidienne, Tourmaline noire, HÃ©matite...`},
    {id:'vib2', type:'Vib', image:'images/vib2.png', description:`ðŸŒ¿ Carte de GuÃ©rison
Fonction : LibÃ¨re les mÃ©moires, harmonise les corps subtils
FrÃ©quence : 528Hz, Pierres : Malachite, Chrysoprase, Fluorite verte...`},
    {id:'vib3', type:'Vib', image:'images/vib3.png', description:`ðŸ§­ Carte de Guidance
Fonction : Active lâ€™intuition et Ã©claire les choix
FrÃ©quence : 852Hz, Pierres : Labradorite, Lapis-lazuli, Apatite bleue...`},
    {id:'vib4', type:'Vib', image:'images/vib4.png', description:`ðŸ’— Carte dâ€™Amour
Fonction : Dissout les blocages affectifs, relie Ã  la source
FrÃ©quence : 639Hz, Pierres : Quartz rose, Kunzite, Rhodonite...`},
    {id:'vib5', type:'Vib', image:'images/vib5.png', description:`ðŸ¦‰ Carte de Sagesse
Fonction : AccÃ¨s aux plans supÃ©rieurs, intÃ©gration des enseignements
FrÃ©quence : 963Hz, Pierres : AmÃ©thyste, Sodalite, Cristal de roche...`}
  ];

  // Gestion du tirage sans rÃ©pÃ©tition
  let deck = [...cards];
  const historyList = document.getElementById('historyList');
  const cardImage = document.getElementById('cardImage');
  const cardDescription = document.getElementById('cardDescription');
  const modal = document.getElementById('modal');
  const closeModal = document.getElementById('closeModal');

  function drawCard() {
    if(deck.length === 0) {
      alert('Le deck est vide. Le tirage sera rÃ©initialisÃ©.');
      deck = [...cards];
      historyList.innerHTML = '';
    }
    const randomIndex = Math.floor(Math.random() * deck.length);
    const card = deck.splice(randomIndex,1)[0];
    cardImage.src = card.image;
    cardImage.alt = card.id;
    cardDescription.textContent = card.description;

    // Ajouter Ã  l'historique
    const li = document.createElement('li');
    li.textContent = `${card.type} - ${card.id}`;
    historyList.appendChild(li);
  }

  document.getElementById('drawButton').addEventListener('click', drawCard);

  // Modal click
  cardImage.addEventListener('click', () => {
    if(cardImage.src) modal.style.display = 'block';
  });
  closeModal.addEventListener('click', () => modal.style.display = 'none');
  window.addEventListener('click', e => { if(e.target==modal) modal.style.display='none'; });

</script>
</body>
</html>
