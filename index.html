<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tirage Cartes Arc & Vib</title>

  <!-- CSS int√©gr√© -->
  <style>
    :root {
      --bg: #f6f7fb;
      --card-bg: #ffffff;
      --accent: #4a90e2;
      --muted: #666;
      --radius: 12px;
    }
    html,body { height:100%; margin:0; }
    body {
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: #111;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      -webkit-font-smoothing:antialiased;
    }

    h1 {
      margin: 6px 0 12px;
      font-size: 1.6rem;
    }

    .controls {
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
      margin-bottom: 14px;
    }

    button {
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 10px;
      font-size: 15px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(74,144,226,0.15);
    }
    button.secondary {
      background: #6c6f73;
    }
    button:active { transform: translateY(1px); }

    #cardContainer {
      width: 100%;
      max-width: 760px;
      margin-top: 6px;
      display:flex;
      justify-content:center;
    }

    /* small preview when card drawn */
    #cardPreview {
      background: var(--card-bg);
      padding: 14px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(16,24,40,0.06);
      display:flex;
      gap:12px;
      align-items:center;
      width:100%;
      max-width:720px;
    }

    #cardPreview img {
      width: 120px;
      height: auto;
      border-radius: 8px;
      object-fit: contain;
      background: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
      cursor: pointer;
    }

    #cardPreview .meta {
      text-align:left;
      flex:1;
      min-width:0;
    }
    #cardPreview .meta h3 {
      margin:0 0 6px;
      font-size:1.0rem;
      line-height:1.2;
      word-break:break-word;
    }
    #cardPreview .meta p {
      margin:0;
      color:var(--muted);
      font-size:0.9rem;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* Modal overlay */
    #modal {
      display:none;
      position:fixed;
      left:0; top:0; right:0; bottom:0;
      background: rgba(0,0,0,0.65);
      z-index: 1200;
      justify-content:center;
      align-items:center;
      padding: 20px;
    }

    #modal.open { display:flex; }

    #modalContent {
      background: var(--card-bg);
      width: 100%;
      max-width: 860px;
      max-height: 90vh;
      overflow:auto;
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: 0 12px 36px rgba(8,15,30,0.25);
      text-align:left;
    }

    .closeModal {
      float: right;
      cursor: pointer;
      font-size: 20px;
      color:#444;
      margin-left:8px;
    }

    #modalImage {
      display:block;
      margin: 6px auto 14px auto;
      width: 90%;
      max-width: 560px; /* ajuste la taille maximale de l'image dans le modal */
      height: auto;
      border-radius: 12px;
      object-fit: contain;
      box-shadow: 0 10px 30px rgba(0,0,0,0.12);
    }

    #modalTitle {
      margin: 6px 0;
      font-size: 1.25rem;
      line-height: 1.25;
    }

    #modalDescription {
      margin-top: 10px;
      color: #222;
      white-space: pre-wrap; /* pr√©serve les retours √† la ligne dans les descriptions */
      font-size: 0.98rem;
      line-height: 1.5;
    }

    /* Historique */
    #history {
      margin-top: 18px;
      width: 100%;
      max-width: 760px;
      background: var(--card-bg);
      border-radius: 12px;
      padding: 12px;
      box-shadow: 0 6px 18px rgba(16,24,40,0.06);
    }
    #history h3 { margin:0 0 8px 0; font-size:1rem; }
    #historyList { list-style: none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; max-height:300px; overflow:auto; }
    .historyItem {
      display:flex; gap:10px; align-items:center; padding:8px; border-radius:8px; cursor:pointer;
    }
    .historyItem:hover { background:#f2f5ff; }
    .historyItem img { width:48px; height:auto; border-radius:6px; object-fit:contain; }
    .historyItem .hmeta { font-size:0.95rem; color:#111; }
    .historyItem .hmeta small { display:block; color:var(--muted); font-size:0.8rem; }

    /* responsive adjustments */
    @media (max-width:600px) {
      #cardPreview img { width:86px; }
      #modalImage { max-width:92vw; }
    }
  </style>
</head>
<body>

  <h1>‚ú® Tirage Cartes Arc & Vib ‚ú®</h1>

  <div class="controls">
    <button id="btnDrawArc">Tirer une carte Arc</button>
    <button id="btnDrawVib">Tirer une carte Vib</button>
    <button id="btnReshuffle" class="secondary">üîÅ Reshuffle (remet le deck)</button>
  </div>

  <div id="cardContainer">
    <div id="cardPreview" style="display:none;">
      <img id="previewImg" src="" alt="Carte tir√©e">
      <div class="meta">
        <h3 id="previewName"></h3>
        <p id="previewType"></p>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" aria-hidden="true">
    <div id="modalContent" role="dialog" aria-modal="true">
      <span class="closeModal" id="closeModalBtn" title="Fermer">&times;</span>
      <img id="modalImage" src="" alt="Carte">
      <h2 id="modalTitle"></h2>
      <div id="modalDescription"></div>
    </div>
  </div>

  <!-- Historique -->
  <div id="history">
    <h3>Historique des tirages</h3>
    <ul id="historyList"></ul>
  </div>

  <!-- SCRIPT -->
  <script>
    /* ---- Donn√©es : Arc 1 ‚Üí Arc 12 (texte complet fourni) ---- */
    const arcCards = [
{
    name: "üõ°Ô∏è Micha√´l ‚Äì Guerrier c√©leste tribal",
    image: "arc1.png",
    description: `üî§ Nom : Mikha√´l (h√©breu ◊û÷¥◊ô◊õ÷∏◊ê÷µ◊ú) ‚Äî ‚ÄúQui est comme Dieu ?‚Äù
üåà Fr√©quence vibratoire : 528 Hz ‚Äî fr√©quence de transformation, r√©paration de l‚ÄôADN, purification.
üíé Pierres associ√©es : Lapis-lazuli, Sodalite, Tourmaline noire
üåû Astres r√©gents : Soleil, Mars ‚Äî feu sacr√©, autorit√©, courage.
ü™¨ Symboles : √©p√©e flamboyante, bouclier solaire, balance cosmique, cape √©toil√©e.
üß≠ R√¥le : Protecteur des justes, chef des arm√©es c√©lestes, d√©fenseur contre les forces du mal.
üìú Traditions :
  - Christianisme : Combattant du dragon dans l‚ÄôApocalypse.
  - Juda√Øsme : Ange protecteur du peuple h√©breu.
  - Islam : Mikail, ange de la pluie et de la mis√©ricorde.
üßø Noms associ√©s : Saint Michel, Mikael, Melek Mika‚Äôil`
  },
  {
    name: "üåø Rapha√´l ‚Äì Chamane gu√©risseur v√©g√©tal",
    image: "arc2.png",
    description: `üî§ Nom : Refael (h√©breu ◊®÷∞◊§÷∏◊ê÷µ◊ú) ‚Äî ‚ÄúDieu gu√©rit‚Äù
üåà Fr√©quence vibratoire : 639 Hz ‚Äî fr√©quence de l‚Äôamour, de la compassion, de la gu√©rison relationnelle.
üíé Pierres associ√©es : Malachite, √âmeraude, Fluorite verte
üå† Astres r√©gents : Mercure, V√©nus ‚Äî soin, harmonie, r√©g√©n√©ration.
ü™¨ Symboles : b√¢ton de soin, temple de jade, tatouages floraux, lumi√®re verte.
üß≠ R√¥le : Gu√©risseur divin, protecteur des voyageurs, des amoureux et des √¢mes bless√©es.
üìú Traditions :
  - Christianisme : Guide de Tobie, gu√©risseur des corps et des √¢mes.
  - Juda√Øsme : Ange de la m√©decine et de la gu√©rison.
  - Islam : Associ√© √† Israfil, l‚Äôange du cor du Jugement.
üßø Noms associ√©s : Rufa‚Äôil, Israfil (selon certaines traditions)`
  },
  {
    name: "üåô Gabriel ‚Äì Messager d‚Äôeau et de lune",
    image: "arc3.png",
    description: `üî§ Nom : Gavri‚Äôel (h√©breu ◊í÷∑÷º◊ë÷∞◊®÷¥◊ô◊ê÷µ◊ú) ‚Äî ‚ÄúForce de Dieu‚Äù
üåà Fr√©quence vibratoire : 741 Hz ‚Äî fr√©quence de la clart√©, de la purification et de l‚Äôintuition.
üíé Pierres associ√©es : Pierre de lune, Citrine, Cornaline
üå† Astres r√©gents : Lune, Neptune ‚Äî fluidit√©, r√™ve, transmission mystique.
ü™¨ Symboles : harpe lunaire, perles marines, coquillages vibrants, robe nacr√©e.
üß≠ R√¥le : Messager divin, porteur de r√©v√©lations, guide des artistes et communicants.
üìú Traditions :
  - Christianisme : Annonciateur de la naissance de J√©sus.
  - Juda√Øsme : Ange de la puret√© et de la r√©v√©lation.
  - Islam : Jibril, transmetteur du Coran √† Muhammad.
üßø Noms associ√©s : Djibril, Gavriel, Jibril`
  },
  {
    name: "üî• Uriel ‚Äì Alchimiste du feu cosmique",
    image: "arc4.png",
    description: `üî§ Nom : Uriel (h√©breu ◊ê◊ï÷º◊®÷¥◊ô◊ê÷µ◊ú) ‚Äî ‚ÄúLumi√®re de Dieu‚Äù ou ‚ÄúFeu de Dieu‚Äù
üåà Fr√©quence vibratoire : 852 Hz ‚Äî fr√©quence de l‚Äô√©veil spirituel, de la vision int√©rieure et de la v√©rit√© cosmique.
üíé Pierres associ√©es : Ambre, Pyrite, H√©matite
üå† Astres r√©gents : Uranus, Soleil ‚Äî illumination soudaine, sagesse, r√©v√©lation.
ü™¨ Symboles : sph√®re incandescente, forge c√©leste, gants dor√©s, glyphes alchimiques.
üß≠ R√¥le : Porteur de sagesse divine, juge cosmique, gardien des secrets sacr√©s.
üìú Traditions :
  - Christianisme √©sot√©rique : Archange de la connaissance et de l‚Äô√©t√©.
  - Apocryphes : Interpr√®te des proph√©ties, ange du ch√¢timent.
  - Occultisme : Alchimiste c√©leste, visionnaire.
üßø Noms associ√©s : Nuriel, Phanuel, Suriel, Sariel, Auriel`
  },
  {
    name: "üå∏ Chamuel ‚Äì Gardien du jardin sacr√©",
    image: "arc5.png",
    description: `üî§ Nom : Chamuel, Camael, Kamael ‚Äî ‚ÄúCelui qui voit Dieu‚Äù
üåà Fr√©quence vibratoire : 639 Hz ‚Äî fr√©quence de l‚Äôamour, de la compassion, de la gu√©rison relationnelle.
üíé Pierres associ√©es : Quartz rose, Rhodonite, Chrysoprase
üå† Astres r√©gents : V√©nus, Lune ‚Äî douceur, harmonie, tendresse.
ü™¨ Symboles : c≈ìur rayonnant, colombe, vortex rose, sceau d‚Äôunion.
üß≠ R√¥le : Archange de l‚Äôamour inconditionnel, de la paix int√©rieure, de la r√©conciliation.
üìú Traditions :
  - Mystique chr√©tienne : protecteur des relations, gu√©risseur du c≈ìur.
  - √âsot√©risme : guide des √¢mes vers l‚Äôamour divin.
üßø Noms associ√©s : Camael, Kamael, Aniel`
  },
  {
    name: "‚òÄÔ∏è Jophiel ‚Äì Oracle solaire des sph√®res sup√©rieures",
    image: "arc6.png",
    description: `üî§ Nom : Jophiel, Iophiel, Zophiel ‚Äî ‚ÄúBeaut√© de Dieu‚Äù
üåà Fr√©quence vibratoire : 963 Hz ‚Äî fr√©quence de la conscience divine, de l‚Äôillumination spirituelle.
üíé Pierres associ√©es : Topaze dor√©e, Rubellite, Kunzite
üå† Astres r√©gents : Jupiter, Soleil ‚Äî expansion, sagesse, rayonnement.
ü™¨ Symboles : plume dor√©e, fleur cosmique, miroir c√©leste.
üß≠ R√¥le : Archange de la beaut√©, de l‚Äôinspiration, de la clart√© mentale.
üìú Traditions :
  - Kabbale : gardienne de la Torah et de la sagesse divine.
  - Mystique chr√©tienne : guide des artistes et des penseurs.
üßø Noms associ√©s : Zophiel, Dina, Iofiel`
  },
  {
    name: "üîÆ Zadkiel ‚Äì Pr√™tre de la flamme violette",
    image: "arc7.png",
    description: `üî§ Nom : Zadkiel, Zedekiel ‚Äî ‚ÄúJustice de Dieu‚Äù
üåà Fr√©quence vibratoire : 432 Hz ‚Äî fr√©quence de l‚Äôancrage, de la paix int√©rieure, de la m√©moire cellulaire.
üíé Pierres associ√©es : Am√©thyste, Sugilite, Lapis-lazuli
üå† Astres r√©gents : Saturne, Pluton ‚Äî transmutation, karma, profondeur.
ü™¨ Symboles : flamme violette, livre des √¢mes, sablier cosmique.
üß≠ R√¥le : Archange de la mis√©ricorde, de la transmutation, du pardon.
üìú Traditions :
  - Mystique chr√©tienne : ange du pardon et de la transformation.
  - New Age : gardien de la flamme violette.
üßø Noms associ√©s : Zedekiel, Sachiel, Tzadkiel`
  },
  {
    name: "üåå Haniel ‚Äì Reine lunaire intuitive",
    image: "arc8.png",
    description: `üî§ Nom : Haniel, Anael, Aniel ‚Äî ‚ÄúGr√¢ce de Dieu‚Äù
üåà Fr√©quence vibratoire : 417 Hz ‚Äî fr√©quence de la lib√©ration √©motionnelle et du retour √† l‚Äôharmonie.
üíé Pierres associ√©es : Pierre de lune, Labradorite, S√©l√©nite
üå† Astres r√©gents : Lune, V√©nus ‚Äî intuition, sensualit√©, myst√®re.
ü™¨ Symboles : croissant lunaire, √©ventail nacr√©, miroir d‚Äôeau.
üß≠ R√¥le : Archange de la f√©minit√© sacr√©e, des √©motions, des cycles.
üìú Traditions :
  - Kabbale : guide des rituels lunaires et des initiations f√©minines.
  - Mystique chr√©tienne : ange de la joie et de la gr√¢ce.
üßø Noms associ√©s : Anael, Aniel, Haniel`
  },
  {
    name: "üåÄ Raziel ‚Äì Voyageur interdimensionnel",
    image: "arc9.png",
    description: `üî§ Nom : Raziel ‚Äî ‚ÄúSecret de Dieu‚Äù
üåà Fr√©quence vibratoire : 888 Hz ‚Äî fr√©quence de la connaissance cach√©e, de l‚Äôactivation multidimensionnelle.
üíé Pierres associ√©es : Cristal de roche, Moldavite, Obsidienne c√©leste
üå† Astres r√©gents : Uranus, Mercure ‚Äî r√©v√©lation, myst√®re, intelligence cosmique.
ü™¨ Symboles : livre scell√©, spirale dor√©e, ≈ìil √©toil√©.
üß≠ R√¥le : Archange des myst√®res, des lois universelles, des archives akashiques.
üìú Traditions :
  - Kabbale : auteur du Livre de Raziel, transmis √† Adam.
  - √âsot√©risme : ma√Ætre des codes sacr√©s et des g√©om√©tries divines.
üßø Noms associ√©s : Ratziel, Galizur`
  },
  {
    name: "üïØÔ∏è Azra√´l ‚Äì Sage fun√©raire de la renaissance",
    image: "arc10.png",
    description: `üî§ Nom : Azra√´l, Azriel ‚Äî ‚ÄúCelui que Dieu aide‚Äù
üåà Fr√©quence vibratoire : 396 Hz ‚Äî fr√©quence de la lib√©ration du pass√©, du deuil, de la transmutation karmique.
üíé Pierres associ√©es : Calcite cr√®me, Chrysocolle, Rose des sables
üå† Astres r√©gents : Saturne, Pluton ‚Äî fin de cycle, passage, profondeur.
ü™¨ Symboles : sablier, voile, cl√© d‚Äôombre, plume blanche.
üß≠ R√¥le : Archange du passage, du deuil, de la paix des √¢mes.
üìú Traditions :
  - Islam : ange de la mort, charg√© de recueillir les √¢mes.
  - Mystique chr√©tienne : guide des √¢mes vers la lumi√®re.
üßø Noms associ√©s : Azriel, Izrail, Azariel`
  },
  {
    name: "ü™ò Sandalphon ‚Äì Veilleur des racines et des chants terrestres",
    image: "arc11.png",
    description: `üî§ Nom : Sandalphon ‚Äî ‚ÄúFr√®re‚Äù ou ‚ÄúCo-cr√©ateur‚Äù
üåà Fr√©quence vibratoire : 285 Hz ‚Äî fr√©quence de la r√©g√©n√©ration physique, de l‚Äôancrage et de la mati√®re sacr√©e.
üíé Pierres associ√©es : Turquoise, Quartz bleu, Rhodonite
üå† Astres r√©gents : Terre, Neptune ‚Äî enracinement, r√™ve, vibration tellurique.
ü™¨ Symboles : spirale terrestre, tambour cosmique, racines lumineuses.
üß≠ R√¥le : Archange de l‚Äôancrage, de la musique sacr√©e, des pri√®res incarn√©es.
üìú Traditions :
  - Kabbale : ancien proph√®te √âlie transform√© en archange.
  - Mystique : tisseur des pri√®res humaines vers le divin.
üßø Noms associ√©s : Sandalphon, Sandalfin`
  },
  {
    name: "‚ú® M√©tatron ‚Äì Ma√Ætre de la g√©om√©trie c√©leste",
    image: "arc12.png",
    description: `üî§ Nom : M√©tatron ‚Äî ‚ÄúCelui qui occupe le tr√¥ne √† c√¥t√© de Dieu‚Äù
üåà Fr√©quence vibratoire : 999 Hz ‚Äî fr√©quence de l‚Äôunit√© divine, de l‚Äôascension et de la g√©om√©trie sacr√©e.
üíé Pierres associ√©es : Tourmaline melon d‚Äôeau, Rhodochrosite, Platine
üå† Astres r√©gents : Pl√©iades, Sirius, √©nergie cosmique ‚Äî multidimensionnalit√©, lumi√®re pure, conscience galactique.
ü™¨ Symboles : cube de M√©tatron, tr√¥ne c√©leste, vortex arc-en-ciel.
üß≠ R√¥le : Archange de l‚Äôascension, gardien des archives c√©lestes, ma√Ætre des g√©om√©tries divines.
üìú Traditions :
  - Kabbale : ancien proph√®te H√©noch transform√© en archange.
  - Mystique : scribe c√©leste, gardien du tr√¥ne divin.
üßø Noms associ√©s : Mitatron, Enoch, Yofiel`
  }
];

    /* ---- Donn√©es : Vib 1 ‚Üí Vib 5 (texte complet fourni) ---- */
    const vibCards = [
{
  name: "üõ°Ô∏è Carte de Protection",
  image: "vib1.png",
  description: `Rituel de Protection Vibratoire
Fonction vibratoire principale : Dissout les intrusions, renforce l‚Äôaura, stabilise les champs
Qualit√© divine : Bouclier √©nerg√©tique, enracinement, s√©curit√©
Fr√©quence : 417 Hz
Pierres associ√©es : Obsidienne (transmutation, protection psychique), Tourmaline noire (ancrage), H√©matite (stabilisation)
Astre r√©gent : Mars / Saturne
Effet vibratoire : Dissolution des intrusions, stabilisation du champ

Pr√©paration du cercle :
 - Allume une bougie noire ou rouge (Mars/Saturne)
 - Trace un cercle au sol avec du sel ou de la poudre de tourmaline
 - Fais r√©sonner un diapason √† 417 Hz ou joue une onde binaurale correspondante

Supports vibratoires :
 - Fr√©quence : 417 Hz ‚Äî Active la lib√©ration et la dissolution vibratoire
 - Pierres : Obsidienne / Tourmaline noire / H√©matite ‚Äî √† tenir ou placer aux quatre coins du cercle
 - Astre r√©gent : Mars / Saturne ‚Äî √† invoquer pour sceller et renforcer l‚Äôintention

Activation par le souffle :
 - Inspire profond√©ment en visualisant une lumi√®re rouge-noire montant depuis la Terre
 - Expire en visualisant un bouclier dor√© se former autour de toi
 - R√©p√®te 7 fois, en rythme avec le son 417 Hz

Invocation sacr√©e :
Par la force de Mars et la sagesse de Saturne, J‚Äôappelle la vibration de Protection divine. Que l‚Äôobsidienne scelle, que le son purifie, Que mon champ soit inviolable, stable et sacr√©. Je suis entour√©(e) d‚Äôun cercle de lumi√®re, Nul ne peut p√©n√©trer sans mon accord. Ainsi soit-il.

Scellement √©nerg√©tique :
 - Place la carte Protection au centre du cercle
 - Dispose les pierres autour en triangle ou carr√©
 - Visualise une spirale noire et dor√©e montant du sol et enveloppant l‚Äôespace
 - Termine par 3 frappes de tambour ou 3 tintements de cloche

Int√©gration :
 - Bois une infusion de racines (gingembre, r√©glisse, ortie)
 - Note dans ton journal : ‚ÄúCe qui est √† moi est prot√©g√©. Ce qui ne m‚Äôappartient pas est dissous.‚Äù
 - Laisse la carte sur ton autel pendant 3 jours

Utilisation compl√©mentaire :
 - √Ä r√©p√©ter lors de p√©riodes de vuln√©rabilit√© ou de transition
 - √Ä faire avant le sommeil pour sceller l‚Äôespace astral
 - √Ä utiliser pour purifier et prot√©ger un lieu (maison, cabinet, temple)`
},
{
  name: "üåø Carte de Gu√©rison",
  image: "vib2.png",
  description: `Rituel de Gu√©rison Vibratoire
Fonction vibratoire principale : Lib√®re les m√©moires, harmonise les corps subtils
Qualit√© divine : R√©g√©n√©ration, purification, r√©paration
Fr√©quence : 528 Hz
Pierres associ√©es : Malachite (nettoyage √©motionnel), Chrysoprase (apaisement), Fluorite verte (harmonisation)
Astre r√©gent : Lune / Chiron
Effet vibratoire : R√©paration cellulaire, lib√©ration √©motionnelle

Pr√©paration de l‚Äôespace :
 - Allume une bougie verte ou blanche (Lune/Chiron)
 - Diffuse une huile essentielle de lavande, eucalyptus ou menthe
 - Lance une onde binaurale ou un diapason √† 528 Hz

Supports vibratoires :
 - Fr√©quence : 528 Hz ‚Äî R√©paration cellulaire, activation du c≈ìur, purification de l‚ÄôADN
 - Pierres : Malachite / Chrysoprase / Fluorite verte ‚Äî √† poser sur le c≈ìur, le plexus ou les mains
 - Astre r√©gent : Lune / Chiron ‚Äî √† invoquer pour guider le soin et lib√©rer les m√©moires

Respiration r√©g√©n√©rante :
 - Inspire en visualisant une lumi√®re verte √©meraude entrant par le sommet du cr√¢ne
 - Expire en envoyant cette lumi√®re dans les zones de tension ou de douleur
 - R√©p√®te 9 fois, en rythme avec le son 528 Hz

Invocation sacr√©e :
Par la lumi√®re de la Lune et la m√©decine de Chiron, J‚Äôappelle la vibration sacr√©e de Gu√©rison. Que la malachite purifie, que le son r√©pare, Que mes cellules se souviennent de leur harmonie. Je suis un temple vivant, Et je choisis la r√©g√©n√©ration. Ainsi soit-il.

Soin √©nerg√©tique :
 - Place la carte Gu√©rison sur ton c≈ìur ou devant toi
 - Dispose les pierres en triangle autour du corps ou de la zone √† traiter
 - Visualise une spirale verte tournant lentement dans le sens horaire
 - Laisse le soin durer 22 minutes ou jusqu‚Äô√† ce que le ressenti s‚Äôapaise

Int√©gration :
 - Bois une infusion de plantes m√©dicinales (ortie, camomille, m√©lisse)
 - Note dans ton journal : ‚ÄúJe suis en train de me r√©parer. Mon √©nergie est restaur√©e.‚Äù
 - Laisse la carte sur ton autel pendant 3 jours

Utilisation compl√©mentaire :
 - √Ä faire lors des pleines lunes ou des transits de Chiron
 - √Ä int√©grer dans les soins √©nerg√©tiques ou les cercles de gu√©rison
 - √Ä utiliser avant le sommeil pour favoriser la r√©g√©n√©ration nocturne`
},
{
  name: "üß≠ Carte de Guidance",
  image: "vib3.png",
  description: `Rituel de Guidance Vibratoire
Fonction vibratoire principale : Active l‚Äôintuition, √©claire les choix, ouvre les voies
Qualit√© divine : Clart√©, discernement, orientation
Fr√©quence : 852 Hz
Pierres associ√©es : Labradorite, Lapis lazuli, Apatite bleue
Astre r√©gent : Mercure / Uranus
Effet vibratoire : Activation du 3e ≈ìil, connexion au Soi sup√©rieur

Pr√©paration de l‚Äôespace :
 - Allume une bougie bleue ou argent√©e (Mercure/Uranus)
 - Place un objet symbolique de voyage ou de vision (boussole, plume, miroir)
 - Lance une onde binaurale ou un diapason √† 852 Hz

Supports vibratoires :
 - Fr√©quence : 852 Hz ‚Äî Activation du 3e ≈ìil, connexion au Soi sup√©rieur
 - Pierres : Labradorite / Lapis lazuli / Apatite bleue ‚Äî √† poser sur le front, la gorge ou dans la main gauche
 - Astre r√©gent : Mercure / Uranus ‚Äî √† invoquer pour ouvrir les canaux de perception et d‚Äôinspiration

Respiration intuitive :
 - Inspire en visualisant une lumi√®re indigo p√©n√©trant par le front
 - Expire en envoyant cette lumi√®re vers le c≈ìur et les mains
 - R√©p√®te 11 fois, en rythme avec le son 852 Hz

Invocation sacr√©e :
Par la clart√© de Mercure et l‚Äô√©veil d‚ÄôUranus, J‚Äôappelle la vibration sacr√©e de Guidance. Que la labradorite √©claire, que le son r√©v√®le, Que mes pas soient guid√©s par la sagesse int√©rieure. Je suis pr√™t(e) √† recevoir les signes, Et √† suivre le chemin qui s‚Äôouvre devant moi. Ainsi soit-il.

Tirage ou canalisation :
 - Place la carte Guidance devant toi
 - Dispose les pierres en triangle autour de la carte
 - Pose une question claire ou ouvre ton canal intuitif
 - Visualise une spirale bleue tournant dans le sens horaire au niveau du front
 - Note les images, mots ou ressentis qui √©mergent

Int√©gration :
 - Bois une infusion de plantes a√©riennes (verveine, sauge, bleuet)
 - Note dans ton journal : ‚ÄúJe suis guid√©(e) avec clart√© et confiance.‚Äù
 - Laisse la carte sur ton autel pendant 3 jours`
},
{
  name: "üíó Carte d‚ÄôAmour",
  image: "vib4.png",
  description: `Rituel d‚ÄôAmour Vibratoire
Fonction vibratoire principale : Dissout les blocages affectifs, relie √† la source
Qualit√© divine : Ouverture du c≈ìur, compassion, unit√©
Fr√©quence : 639 Hz
Pierres associ√©es : Quartz rose, Kunzite, Rhodonite
Astre r√©gent : V√©nus / Terre
Effet vibratoire : Harmonisation relationnelle, gu√©rison affective

Pr√©paration de l‚Äôespace :
 - Allume une bougie rose ou blanche (V√©nus/Terre)
 - Dispose des p√©tales de rose ou une offrande douce (miel, lait, fruits)
 - Lance une onde binaurale ou un diapason √† 639 Hz

Supports vibratoires :
 - Fr√©quence : 639 Hz ‚Äî Harmonisation relationnelle, ouverture du c≈ìur
 - Pierres : Quartz rose / Kunzite / Rhodonite ‚Äî √† poser sur le c≈ìur, les poignets ou dans les mains
 - Astre r√©gent : V√©nus / Terre ‚Äî √† invoquer pour incarner l‚Äôamour dans la mati√®re

Respiration du c≈ìur :
 - Inspire en visualisant une lumi√®re rose dor√©e entrant par le c≈ìur
 - Expire en diffusant cette lumi√®re dans tout ton corps
 - R√©p√®te 12 fois, en rythme avec le son 639 Hz

Invocation sacr√©e :
Par la douceur de V√©nus et la tendresse de la Terre, J‚Äôappelle la vibration sacr√©e de l‚ÄôAmour. Que le quartz rose m‚Äôouvre, que le son m‚Äôapaise, Que mon c≈ìur devienne un temple de compassion. Je suis amour, je suis lien, je suis unit√©. Ainsi soit-il.

Rituel d‚Äôouverture :
 - Place la carte Amour sur ton c≈ìur ou devant toi
 - Dispose les pierres en cercle autour de toi ou de l‚Äôespace sacr√©
 - Visualise une spirale rose-or tournant doucement dans le c≈ìur
 - Envoie une intention d‚Äôamour vers toi-m√™me, une personne, ou l‚Äôunivers

Int√©gration :
 - Bois une infusion douce (rose, camomille, m√©lisse)
 - Note dans ton journal : ‚ÄúJe suis digne d‚Äôamour. Je suis amour incarn√©.‚Äù
 - Laisse la carte sur ton autel pendant 3 jours`
},
{
  name: "ü¶â Carte de Sagesse",
  image: "vib5.png",
  description: `Rituel de Sagesse Vibratoire
Fonction vibratoire principale : Acc√®s aux plans sup√©rieurs, int√©gration des enseignements
Qualit√© divine : Vision int√©rieure, m√©moire cosmique, v√©rit√©
Fr√©quence : 963 Hz
Pierres associ√©es : Am√©thyste, Sodalite, Cristal de roche
Astre r√©gent : Soleil / Neptune
Effet vibratoire : √âveil spirituel, activation de la couronne

Pr√©paration de l‚Äôespace :
 - Allume une bougie violette ou dor√©e (Soleil/Neptune)
 - Dispose un symbole de connaissance (livre sacr√©, plume, cristal)
 - Lance une onde binaurale ou un diapason √† 963 Hz

Supports vibratoires :
 - Fr√©quence : 963 Hz ‚Äî √âveil spirituel, activation de la couronne, connexion divine
 - Pierres : Am√©thyste / Sodalite / Cristal de roche ‚Äî √† poser sur le sommet du cr√¢ne, le 3e ≈ìil ou dans les mains
 - Astre r√©gent : Soleil / Neptune ‚Äî √† invoquer pour √©clairer la conscience et ouvrir les archives c√©lestes

Respiration cosmique :
 - Inspire en visualisant une lumi√®re blanche-violette descendant du cosmos
 - Expire en diffusant cette lumi√®re dans tout ton champ √©nerg√©tique
 - R√©p√®te 13 fois, en rythme avec le son 963 Hz

Invocation sacr√©e :
Par la lumi√®re du Soleil et les eaux de Neptune, J‚Äôappelle la vibration sacr√©e de la Sagesse. Que l‚Äôam√©thyste m‚Äô√©l√®ve, que le son m‚Äôouvre, Que ma conscience se souvienne de l‚Äôorigine. Je suis un canal vivant de v√©rit√©, Et je re√ßois les enseignements du ciel. Ainsi soit-il.

Connexion vibratoire :
 - Place la carte Sagesse au sommet de ton autel ou sur ton front
 - Dispose les pierres en √©toile autour de toi ou de ton espace sacr√©
 - Visualise une spirale blanche-violette tournant au-dessus de ta t√™te

Int√©gration :
 - Bois une infusion c√©leste (lavande, lotus, bleuet)
 - Note dans ton journal : ‚ÄúJe suis en lien avec la sagesse universelle.‚Äù
 - Laisse la carte sur ton autel pendant 3 jours`
}
];

    /* ---- √©tat pour emp√™cher r√©p√©tition ---- */
    const usedArc = new Set();
    const usedVib = new Set();

    // historique
    const history = [];

    // helpers
    function drawFromDeck(deck, usedSet) {
      if (usedSet.size >= deck.length) {
        alert("Deck √©puis√© ‚Äî cliquez sur 'Reshuffle' pour remettre les cartes.");
        return null;
      }
      let idx;
      do {
        idx = Math.floor(Math.random() * deck.length);
      } while (usedSet.has(idx));
      usedSet.add(idx);
      return { card: deck[idx], index: idx };
    }

    function showPreview(cardObj, typeLabel) {
      const preview = document.getElementById('cardPreview');
      const img = document.getElementById('previewImg');
      const name = document.getElementById('previewName');
      const type = document.getElementById('previewType');

      img.src = cardObj.image;
      img.alt = cardObj.name;
      name.textContent = cardObj.name;
      type.textContent = typeLabel;
      preview.style.display = 'flex';

      // clicking preview opens modal
      img.onclick = () => openModal(cardObj);
      name.onclick = () => openModal(cardObj);
    }

    function openModal(cardObj) {
      const modal = document.getElementById('modal');
      document.getElementById('modalImage').src = cardObj.image;
      document.getElementById('modalImage').alt = cardObj.name;
      document.getElementById('modalTitle').textContent = cardObj.name;
      document.getElementById('modalDescription').textContent = cardObj.description;
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
    }

    function closeModal() {
      const modal = document.getElementById('modal');
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
    }

    function addToHistory(cardObj, typeLabel) {
      history.unshift({ card: cardObj, type: typeLabel, time: new Date().toLocaleString() });
      renderHistory();
    }

    function renderHistory() {
      const ul = document.getElementById('historyList');
      ul.innerHTML = '';
      history.forEach((entry, i) => {
        const li = document.createElement('li');
        li.className = 'historyItem';
        li.title = `${entry.card.name} ‚Äî ${entry.time}`;
        li.innerHTML = `<img src="${entry.card.image}" alt="${entry.card.name}"><div class="hmeta"><strong>${entry.card.name}</strong><small>${entry.type} ¬∑ ${entry.time}</small></div>`;
        li.onclick = () => openModal(entry.card);
        ul.appendChild(li);
      });
    }

    // actions
    document.getElementById('btnDrawArc').addEventListener('click', () => {
      const res = drawFromDeck(arcCards, usedArc);
      if (!res) return;
      const { card } = res;
      showPreview(card, 'Arc');
      addToHistory(card, 'Arc');
      openModal(card);
    });

    document.getElementById('btnDrawVib').addEventListener('click', () => {
      const res = drawFromDeck(vibCards, usedVib);
      if (!res) return;
      const { card } = res;
      showPreview(card, 'Vib');
      addToHistory(card, 'Vib');
      openModal(card);
    });

    document.getElementById('btnReshuffle').addEventListener('click', () => {
      usedArc.clear();
      usedVib.clear();
      alert('Decks remis. Les cartes peuvent √™tre tir√©es √† nouveau (historique conserv√©).');
    });

    // modal close handlers
    document.getElementById('closeModalBtn').addEventListener('click', closeModal);
    window.addEventListener('click', (e) => {
      const modal = document.getElementById('modal');
      if (e.target === modal) closeModal();
    });

    // keyboard ESC to close
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });

    // initial render (history vide)
    renderHistory();
  </script>
</body>
</html>
