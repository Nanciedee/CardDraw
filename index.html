<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tirage de Cartes Arc & Vib</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f0f0f0;
      padding: 20px;
    }
    h1 { margin-bottom: 20px; }
    #drawButton {
      padding: 10px 20px;
      font-size: 18px;
      margin-bottom: 20px;
      cursor: pointer;
    }
    #cardImage {
      max-width: 300px;
      margin: 10px auto;
      cursor: pointer;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    #history {
      margin-top: 20px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
    }
    /* Modal */
    #modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.7);
    }
    #modalContent {
      background-color: #fff;
      margin: 10% auto;
      padding: 20px;
      width: 90%;
      max-width: 700px;
      border-radius: 10px;
      text-align: left;
      overflow-y: auto;
      max-height: 80%;
    }
    #closeModal {
      float: right;
      font-size: 24px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Tirage de Cartes Arc & Vib</h1>
<button id="drawButton">🎴 Tirer une carte</button>
<div>
  <img id="cardImage" src="" alt="Carte tirée">
</div>
<div id="history">
  <h3>Historique :</h3>
  <ul id="historyList"></ul>
</div>

<!-- Modal -->
<div id="modal">
  <div id="modalContent">
    <span id="closeModal">&times;</span>
    <div id="cardDescription"></div>
  </div>
</div>

<script>
  // Définition des cartes Arc et Vib avec image et description
  const cards = [
    // Cartes Arc
    {id:'arc1', type:'Arc', image:'images/arc1.png', description:`🛡️ Michaël – Guerrier céleste tribal
Nom : Mikhaël — “Qui est comme Dieu ?”
Fréquence : 528Hz, Pierres : Lapis-lazuli, Sodalite, Tourmaline noire, Astres : Soleil, Mars...`},
    {id:'arc2', type:'Arc', image:'images/arc2.png', description:`🌿 Raphaël – Chamane guérisseur végétal
Nom : Refael — “Dieu guérit”
Fréquence : 639Hz, Pierres : Malachite, Émeraude, Fluorite verte...`},
    // ... ajouter arc3 à arc12 de la même façon
    // Cartes Vib
    {id:'vib1', type:'Vib', image:'images/vib1.png', description:`🛡️ Carte de Protection
Fonction : Dissout les intrusions, stabilise l'aura
Fréquence : 417Hz, Pierres : Obsidienne, Tourmaline noire, Hématite...`},
    {id:'vib2', type:'Vib', image:'images/vib2.png', description:`🌿 Carte de Guérison
Fonction : Libère les mémoires, harmonise les corps subtils
Fréquence : 528Hz, Pierres : Malachite, Chrysoprase, Fluorite verte...`},
    {id:'vib3', type:'Vib', image:'images/vib3.png', description:`🧭 Carte de Guidance
Fonction : Active l’intuition et éclaire les choix
Fréquence : 852Hz, Pierres : Labradorite, Lapis-lazuli, Apatite bleue...`},
    {id:'vib4', type:'Vib', image:'images/vib4.png', description:`💗 Carte d’Amour
Fonction : Dissout les blocages affectifs, relie à la source
Fréquence : 639Hz, Pierres : Quartz rose, Kunzite, Rhodonite...`},
    {id:'vib5', type:'Vib', image:'images/vib5.png', description:`🦉 Carte de Sagesse
Fonction : Accès aux plans supérieurs, intégration des enseignements
Fréquence : 963Hz, Pierres : Améthyste, Sodalite, Cristal de roche...`}
  ];

  // Gestion du tirage sans répétition
  let deck = [...cards];
  const historyList = document.getElementById('historyList');
  const cardImage = document.getElementById('cardImage');
  const cardDescription = document.getElementById('cardDescription');
  const modal = document.getElementById('modal');
  const closeModal = document.getElementById('closeModal');

  function drawCard() {
    if(deck.length === 0) {
      alert('Le deck est vide. Le tirage sera réinitialisé.');
      deck = [...cards];
      historyList.innerHTML = '';
    }
    const randomIndex = Math.floor(Math.random() * deck.length);
    const card = deck.splice(randomIndex,1)[0];
    cardImage.src = card.image;
    cardImage.alt = card.id;
    cardDescription.textContent = card.description;

    // Ajouter à l'historique
    const li = document.createElement('li');
    li.textContent = `${card.type} - ${card.id}`;
    historyList.appendChild(li);
  }

  document.getElementById('drawButton').addEventListener('click', drawCard);

  // Modal click
  cardImage.addEventListener('click', () => {
    if(cardImage.src) modal.style.display = 'block';
  });
  closeModal.addEventListener('click', () => modal.style.display = 'none');
  window.addEventListener('click', e => { if(e.target==modal) modal.style.display='none'; });

</script>
</body>
</html>
